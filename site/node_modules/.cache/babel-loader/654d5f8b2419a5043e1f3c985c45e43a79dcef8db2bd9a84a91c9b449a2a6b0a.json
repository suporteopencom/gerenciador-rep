{"ast":null,"code":"import React,{useState,useEffect}from'react';import ReactDOM from'react-dom/client';// 1. Defini칞칚o do Componente Dashboard (deve vir antes da renderiza칞칚o)\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=_ref=>{let{userId}=_ref;const[relogios,setRelogios]=useState([]);const[statusCmd,setStatusCmd]=useState('');// Estados para o formul치rio\nconst[novoNS,setNovoNS]=useState('');const[userRelogio,setUserRelogio]=useState('admin');const[passRelogio,setPassRelogio]=useState('123');// URL da sua inst칙ncia AWS que configuramos nos segredos\nconst API_URL=\"http://54.227.16.187:5000\";const vincularRelogio=async e=>{e.preventDefault();setStatusCmd('Vinculando...');try{const response=await fetch(\"\".concat(API_URL,\"/api/vincular\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({user_id:userId,ns:novoNS,user_relogio:userRelogio,pass_relogio:passRelogio})});if(response.ok){setStatusCmd('Rel칩gio cadastrado com sucesso!');setNovoNS('');}else{setStatusCmd('Erro na resposta do servidor.');}}catch(error){setStatusCmd('Erro ao conectar com a API.');}};return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px',fontFamily:'Arial, sans-serif'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Meus Rel\\xF3gios Henry (Cloud)\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:vincularRelogio,style:{background:'#f4f4f4',padding:'15px',borderRadius:'8px',maxWidth:'500px'},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Vincular Novo Equipamento\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'10px'},children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"N\\xFAmero de S\\xE9rie (NS)\",value:novoNS,onChange:e=>setNovoNS(e.target.value),style:{width:'95%',padding:'8px',marginBottom:'10px'}}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Usu\\xE1rio do Rel\\xF3gio\",value:userRelogio,onChange:e=>setUserRelogio(e.target.value),style:{width:'45%',padding:'8px',marginRight:'5%'}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Senha do Rel\\xF3gio\",value:passRelogio,onChange:e=>setPassRelogio(e.target.value),style:{width:'45%',padding:'8px'}})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:{padding:'10px 20px',cursor:'pointer',background:'#007bff',color:'#fff',border:'none',borderRadius:'4px'},children:\"Cadastrar Rel\\xF3gio\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'30px'},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Status dos Equipamentos\"}),relogios.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"Nenhum rel\\xF3gio vinculado.\"}):relogios.map(r=>/*#__PURE__*/_jsx(\"div\",{style:{border:'1px solid #ccc',padding:'15px',marginBottom:'10px',borderRadius:'5px',display:'flex',alignItems:'center',justifyContent:'space-between'},children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"strong\",{children:[\"NS: \",r.ns]}),/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'15px',color:r.online?'green':'red'},children:r.online?'游릭 ONLINE':'游댮 OFFLINE'})]})},r.ns))]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'20px',padding:'10px',background:'#eee',borderRadius:'4px'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Log do Sistema:\"}),\" \",statusCmd]})]});};// 2. Renderiza칞칚o Final no elemento 'root' definido no seu index.html\nconst root=ReactDOM.createRoot(document.getElementById('root'));root.render(/*#__PURE__*/_jsx(React.StrictMode,{children:/*#__PURE__*/_jsx(Dashboard,{userId:\"1\"})}));","map":{"version":3,"names":["React","useState","useEffect","ReactDOM","jsx","_jsx","jsxs","_jsxs","Dashboard","_ref","userId","relogios","setRelogios","statusCmd","setStatusCmd","novoNS","setNovoNS","userRelogio","setUserRelogio","passRelogio","setPassRelogio","API_URL","vincularRelogio","e","preventDefault","response","fetch","concat","method","headers","body","JSON","stringify","user_id","ns","user_relogio","pass_relogio","ok","error","style","padding","fontFamily","children","onSubmit","background","borderRadius","maxWidth","marginBottom","placeholder","value","onChange","target","width","marginRight","type","cursor","color","border","marginTop","length","map","r","display","alignItems","justifyContent","marginLeft","online","root","createRoot","document","getElementById","render","StrictMode"],"sources":["C:/Users/OPENCOM SUPORTE/3D Objects/projeto relogio/servidor gerenciador relogio nuvem/site/src/index.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\n\r\n// 1. Defini칞칚o do Componente Dashboard (deve vir antes da renderiza칞칚o)\r\nconst Dashboard = ({ userId }) => {\r\n  const [relogios, setRelogios] = useState([]);\r\n  const [statusCmd, setStatusCmd] = useState('');\r\n  \r\n  // Estados para o formul치rio\r\n  const [novoNS, setNovoNS] = useState('');\r\n  const [userRelogio, setUserRelogio] = useState('admin');\r\n  const [passRelogio, setPassRelogio] = useState('123');\r\n\r\n  // URL da sua inst칙ncia AWS que configuramos nos segredos\r\n  const API_URL = \"http://54.227.16.187:5000\";\r\n\r\n  const vincularRelogio = async (e) => {\r\n    e.preventDefault();\r\n    setStatusCmd('Vinculando...');\r\n    try {\r\n      const response = await fetch(`${API_URL}/api/vincular`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          user_id: userId,\r\n          ns: novoNS,\r\n          user_relogio: userRelogio,\r\n          pass_relogio: passRelogio\r\n        })\r\n      });\r\n      if (response.ok) {\r\n        setStatusCmd('Rel칩gio cadastrado com sucesso!');\r\n        setNovoNS('');\r\n      } else {\r\n        setStatusCmd('Erro na resposta do servidor.');\r\n      }\r\n    } catch (error) {\r\n      setStatusCmd('Erro ao conectar com a API.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: '20px', fontFamily: 'Arial, sans-serif' }}>\r\n      <h2>Meus Rel칩gios Henry (Cloud)</h2>\r\n      \r\n      {/* Formul치rio de Cadastro */}\r\n      <form onSubmit={vincularRelogio} style={{ background: '#f4f4f4', padding: '15px', borderRadius: '8px', maxWidth: '500px' }}>\r\n        <h3>Vincular Novo Equipamento</h3>\r\n        <div style={{ marginBottom: '10px' }}>\r\n          <input \r\n            placeholder=\"N칰mero de S칠rie (NS)\" \r\n            value={novoNS} \r\n            onChange={e => setNovoNS(e.target.value)} \r\n            style={{ width: '95%', padding: '8px', marginBottom: '10px' }}\r\n          />\r\n          <input \r\n            placeholder=\"Usu치rio do Rel칩gio\" \r\n            value={userRelogio} \r\n            onChange={e => setUserRelogio(e.target.value)} \r\n            style={{ width: '45%', padding: '8px', marginRight: '5%' }}\r\n          />\r\n          <input \r\n            type=\"password\"\r\n            placeholder=\"Senha do Rel칩gio\" \r\n            value={passRelogio} \r\n            onChange={e => setPassRelogio(e.target.value)} \r\n            style={{ width: '45%', padding: '8px' }}\r\n          />\r\n        </div>\r\n        <button type=\"submit\" style={{ padding: '10px 20px', cursor: 'pointer', background: '#007bff', color: '#fff', border: 'none', borderRadius: '4px' }}>\r\n          Cadastrar Rel칩gio\r\n        </button>\r\n      </form>\r\n\r\n      {/* Listagem de Rel칩gios */}\r\n      <div style={{ marginTop: '30px' }}>\r\n        <h3>Status dos Equipamentos</h3>\r\n        {relogios.length === 0 ? <p>Nenhum rel칩gio vinculado.</p> : relogios.map(r => (\r\n          <div key={r.ns} style={{ border: '1px solid #ccc', padding: '15px', marginBottom: '10px', borderRadius: '5px', display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\r\n            <div>\r\n              <strong>NS: {r.ns}</strong> \r\n              <span style={{ marginLeft: '15px', color: r.online ? 'green' : 'red' }}>\r\n                {r.online ? '游릭 ONLINE' : '游댮 OFFLINE'}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      \r\n      <div style={{ marginTop: '20px', padding: '10px', background: '#eee', borderRadius: '4px' }}>\r\n        <strong>Log do Sistema:</strong> {statusCmd}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// 2. Renderiza칞칚o Final no elemento 'root' definido no seu index.html\r\nconst root = ReactDOM.createRoot(document.getElementById('root'));\r\nroot.render(\r\n  <React.StrictMode>\r\n    <Dashboard userId=\"1\" />\r\n  </React.StrictMode>\r\n);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}